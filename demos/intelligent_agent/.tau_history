# ============================================================================
# INTELLIGENT A* PATHFINDING DEFLATIONARY AGENT
# ============================================================================
# This agent uses A* pathfinding concepts to navigate state space optimally.
# It maintains belief about market state and chooses actions that minimize
# f-cost = g-cost + h-cost (actual cost + heuristic to goal).
#
# INTELLIGENCE:
# 1. State encoding: 2-bit state = (in_position, eetf_high)
# 2. Heuristic: Favor high EETF states (more scarcity premium)
# 3. g-cost: Accumulates based on missed opportunities
# 4. Action selection: Greedy on f-cost with Q-table backup
#
# GOAL: Maximize scarcity-adjusted returns through ethical alignment
# ============================================================================
# === INPUTS ===
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/in_position.out").\no1:sbf = out file("outputs/buy_signal.out").\no2:sbf = out file("outputs/sell_signal.out").\no3:bv[16] = out file("outputs/g_cost.out").\no4:bv[16] = out file("outputs/h_cost.out").\no5:bv[16] = out file("outputs/f_cost.out").\no6:bv[16] = out file("outputs/q_value.out").\no7:bv[16] = out file("outputs/cumulative_profit.out").\no8:sbf = out file("outputs/state_b0.out").\no9:sbf = out file("outputs/state_b1.out").\n\ndefs
r (\n    (o8[t] = o0[t]) &&\n    (o9[t] = i1[t]) &&\n    (o3[t] = o3[t-1] + (o0[t-1]' & i1[t] & i0[t]' ? {5}:bv[16] : {0}:bv[16]) + (o0[t-1] & i0[t] ? {3}:bv[16] : {0}:bv[16])) && (o3[0] = {0}:bv[16]) &&
    (o4[t] = (o0[t]' & i1[t] ? {50}:bv[16] : {0}:bv[16]) + (o0[t] & i1[t]' ? {30}:bv[16] : {0}:bv[16]) + ({200}:bv[16] - i3[t])) &&
    (o5[t] = o3[t] + o4[t]) &&\n    (o6[t] = (o0[t]' & i1[t]' ? {50}:bv[16] : (o0[t]' & i1[t] ? {100}:bv[16] : (o0[t] & i1[t]' ? {70}:bv[16] : {90}:bv[16])))) &&
    (o1[t] = o0[t-1]' & i1[t] & i2[t] & (o6[t] > {80}:bv[16])) &&
    (o2[t] = o0[t-1] & (i0[t] | (i1[t]' & (i3[t] > {100}:bv[16])))) &&
    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (o7[t] = o7[t-1] + (o2[t] ? i3[t] : {0}:bv[16])) && (o7[0] = {0}:bv[16])
)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/in_position.out").\no1:sbf = out file("outputs/buy_signal.out").\no2:sbf = out file("outputs/sell_signal.out").\no3:bv[16] = out file("outputs/scarcity_echo.out").\no4:sbf = out file("outputs/state_idle_low.out").\no5:sbf = out file("outputs/state_idle_high.out").\no6:sbf = out file("outputs/state_pos_low.out").\no7:sbf = out file("outputs/state_pos_high.out").\no8:bv[16] = out file("outputs/profit.out").\no9:sbf = out file("outputs/trade_count_b0.out").\n\ndefs
r (\n    (o3[t] = i3[t]) &&\n    (o4[t] = o0[t]' & i1[t]') &&\n    (o5[t] = o0[t]' & i1[t]) &&\n    (o6[t] = o0[t] & i1[t]') &&\n    (o7[t] = o0[t] & i1[t]) &&\n    (o1[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]') &&\n    (o2[t] = o0[t-1] & i0[t]) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (o8[t] = o8[t-1] + i3[t]) && (o8[0] = {0}:bv[16]) &&\n    (o9[t] = (o2[t] & o9[t-1]') | (o2[t]' & o9[t-1]))\n)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/in_position.out").\no1:sbf = out file("outputs/buy_signal.out").\no2:sbf = out file("outputs/sell_signal.out").\no3:bv[16] = out file("outputs/scarcity_echo.out").\no4:sbf = out file("outputs/state_idle_low.out").\no5:sbf = out file("outputs/state_idle_high.out").\no6:sbf = out file("outputs/state_pos_low.out").\no7:sbf = out file("outputs/state_pos_high.out").\no8:bv[16] = out file("outputs/profit.out").\no9:sbf = out file("outputs/trade_count_b0.out").\n\ndefs
r (\n    (o3[t] = i3[t]) &&\n    (o4[t] = o0[t]' & i1[t]') &&\n    (o5[t] = o0[t]' & i1[t]) &&\n    (o6[t] = o0[t] & i1[t]') &&\n    (o7[t] = o0[t] & i1[t]) &&\n    (o1[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]') &&\n    (o2[t] = o0[t-1] & i0[t]) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (o8[t] = o8[t-1] + i3[t]) && (o8[0] = {0}:bv[16]) &&\n    (o9[t] = (o2[t] & o9[t-1]') | (o2[t]' & o9[t-1]))\n)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/position.out").\no1:sbf = out file("outputs/buy.out").\no2:sbf = out file("outputs/sell.out").\no3:sbf = out file("outputs/fsm_idle_low.out").\no4:sbf = out file("outputs/fsm_idle_high.out").\no5:sbf = out file("outputs/fsm_pos_low.out").\no6:sbf = out file("outputs/fsm_pos_high.out").\no7:bv[16] = out file("outputs/scarcity_track.out").\no8:bv[16] = out file("outputs/entry_scarcity.out").\no9:bv[16] = out file("outputs/profit_realized.out").\noA:sbf = out file("outputs/timer_b0.out").\noB:sbf = out file("outputs/timer_b1.out").\noC:sbf = out file("outputs/trade_b0.out").\noD:sbf = out file("outputs/trade_b1.out").\noE:sbf = out file("outputs/trade_b2.out").\noF:sbf = out file("outputs/cooldown.out").\noG:sbf = out file("outputs/profitable.out").\noH:sbf = out file("outputs/smart_exit.out").\n\ndefs
r (\n    (o7[t] = i3[t]) &&\n    (o3[t] = o0[t]' & i1[t]') &&\n    (o4[t] = o0[t]' & i1[t]) &&\n    (o5[t] = o0[t] & i1[t]') &&\n    (o6[t] = o0[t] & i1[t]) &&\n    (oA[t] = o0[t] & oA[t-1]') &&\n    (oB[t] = o0[t] & ((oB[t-1] & oA[t-1]') | (oB[t-1]' & oA[t-1]))) &&\n    (oF[t] = o2[t-1] | (oF[t-1] & o1[t]')) &&\n    (oG[t] = o0[t] & (i3[t] > o8[t])) &&
    (oH[t] = oG[t] & (oB[t] | i0[t])) &&\n    (o1[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]' & oF[t-1]') &&\n    (o2[t] = o0[t-1] & (oH[t] | (i1[t]' & oB[t] & oA[t]))) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (o8[t] = (o1[t] & i3[t]) | (o0[t-1] & o1[t]' & o2[t]' & o8[t-1])) &&\n    (o9[t] = o9[t-1] + (o2[t] & oG[t] & (i3[t] - o8[t-1]))) && (o9[0] = {0}:bv[16]) &&\n    (oC[t] = (o2[t] & oC[t-1]') | (o2[t]' & oC[t-1])) &&\n    (oD[t] = (o2[t] & oC[t-1] & oD[t-1]') | (o2[t] & oC[t-1]' & oD[t-1]) | (o2[t]' & oD[t-1])) &&\n    (oE[t] = (o2[t] & oC[t-1] & oD[t-1] & oE[t-1]') | (o2[t] & (oC[t-1]' | oD[t-1]') & oE[t-1]) | (o2[t]' & oE[t-1]))
)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/position.out").\no1:sbf = out file("outputs/buy.out").\no2:sbf = out file("outputs/sell.out").\no3:sbf = out file("outputs/fsm_idle_low.out").\no4:sbf = out file("outputs/fsm_idle_high.out").\no5:sbf = out file("outputs/fsm_pos_low.out").\no6:sbf = out file("outputs/fsm_pos_high.out").\no7:bv[16] = out file("outputs/scarcity_track.out").\no8:bv[16] = out file("outputs/entry_scarcity.out").\no9:bv[16] = out file("outputs/profit_realized.out").\noA:sbf = out file("outputs/timer_b0.out").\noB:sbf = out file("outputs/timer_b1.out").\noC:sbf = out file("outputs/trade_b0.out").\noD:sbf = out file("outputs/trade_b1.out").\noE:sbf = out file("outputs/trade_b2.out").\noF:sbf = out file("outputs/cooldown.out").\noG:sbf = out file("outputs/profitable.out").\noH:sbf = out file("outputs/smart_exit.out").\n\ndefs
r (\n    (o7[t] = i3[t]) &&\n    (o3[t] = o0[t]' & i1[t]') &&\n    (o4[t] = o0[t]' & i1[t]) &&\n    (o5[t] = o0[t] & i1[t]') &&\n    (o6[t] = o0[t] & i1[t]) &&\n    (oA[t] = o0[t] & oA[t-1]') &&\n    (oB[t] = o0[t] & ((oB[t-1] & oA[t-1]') | (oB[t-1]' & oA[t-1]))) &&\n    (oF[t] = o2[t-1] | (oF[t-1] & o1[t]')) &&\n    (oG[t] = o0[t] & (i3[t] > o8[t])) &&
    (oH[t] = oG[t] & (oB[t] | i0[t])) &&\n    (o1[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]' & oF[t-1]') &&\n    (o2[t] = o0[t-1] & (oH[t] | (i1[t]' & oB[t] & oA[t]))) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (o8[t] = (o1[t] & i3[t]) | (o0[t-1] & o1[t]' & o2[t]' & o8[t-1])) &&\n    (o9[t] = o9[t-1] + (o2[t] & oG[t] & (i3[t] - o8[t-1]))) && (o9[0] = {0}:bv[16]) &&\n    (oC[t] = (o2[t] & oC[t-1]') | (o2[t]' & oC[t-1])) &&\n    (oD[t] = (o2[t] & oC[t-1] & oD[t-1]') | (o2[t] & oC[t-1]' & oD[t-1]) | (o2[t]' & oD[t-1])) &&\n    (oE[t] = (o2[t] & oC[t-1] & oD[t-1] & oE[t-1]') | (o2[t] & (oC[t-1]' | oD[t-1]') & oE[t-1]) | (o2[t]' & oE[t-1]))
)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/position.out").\no1:sbf = out file("outputs/buy.out").\no2:sbf = out file("outputs/sell.out").\no3:sbf = out file("outputs/fsm_idle_low.out").\no4:sbf = out file("outputs/fsm_idle_high.out").\no5:sbf = out file("outputs/fsm_pos_low.out").\no6:sbf = out file("outputs/fsm_pos_high.out").\no7:bv[16] = out file("outputs/scarcity_track.out").\no8:sbf = out file("outputs/timer_b0.out").\no9:sbf = out file("outputs/timer_b1.out").\noA:sbf = out file("outputs/trade_b0.out").\noB:sbf = out file("outputs/trade_b1.out").\noC:sbf = out file("outputs/trade_b2.out").\noD:sbf = out file("outputs/cooldown.out").\noE:sbf = out file("outputs/smart_entry.out").\noF:sbf = out file("outputs/smart_exit.out").\noG:bv[16] = out file("outputs/cumulative.out").\n\ndefs
r (\n    (o7[t] = i3[t]) &&\n    (o3[t] = o0[t]' & i1[t]') &&\n    (o4[t] = o0[t]' & i1[t]) &&\n    (o5[t] = o0[t] & i1[t]') &&\n    (o6[t] = o0[t] & i1[t]) &&\n    (o8[t] = o0[t] & o8[t-1]') &&\n    (o9[t] = o0[t] & ((o9[t-1] & o8[t-1]') | (o9[t-1]' & o8[t-1]))) &&\n    (oD[t] = o2[t-1] | (oD[t-1] & o1[t]')) &&\n    (oE[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]' & oD[t-1]') &&\n    (oF[t] = o0[t-1] & (i0[t] | (i1[t]' & o9[t] & o8[t]))) &&\n    (o1[t] = oE[t]) &&\n    (o2[t] = oF[t]) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (oG[t] = oG[t-1] + i3[t]) && (oG[0] = {0}:bv[16]) &&\n    (oA[t] = (o2[t] & oA[t-1]') | (o2[t]' & oA[t-1])) &&\n    (oB[t] = (o2[t] & oA[t-1] & oB[t-1]') | (o2[t] & oA[t-1]' & oB[t-1]) | (o2[t]' & oB[t-1])) &&\n    (oC[t] = (o2[t] & oA[t-1] & oB[t-1] & oC[t-1]') | (o2[t] & (oA[t-1]' | oB[t-1]') & oC[t-1]) | (o2[t]' & oC[t-1]))\n)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/position.out").\no1:sbf = out file("outputs/buy.out").\no2:sbf = out file("outputs/sell.out").\no3:sbf = out file("outputs/fsm_idle_low.out").\no4:sbf = out file("outputs/fsm_idle_high.out").\no5:sbf = out file("outputs/fsm_pos_low.out").\no6:sbf = out file("outputs/fsm_pos_high.out").\no7:bv[16] = out file("outputs/scarcity_track.out").\no8:sbf = out file("outputs/timer_b0.out").\no9:sbf = out file("outputs/timer_b1.out").\noA:sbf = out file("outputs/trade_b0.out").\noB:sbf = out file("outputs/trade_b1.out").\noC:sbf = out file("outputs/trade_b2.out").\noD:sbf = out file("outputs/cooldown.out").\noE:sbf = out file("outputs/smart_entry.out").\noF:sbf = out file("outputs/smart_exit.out").\noG:bv[16] = out file("outputs/cumulative.out").\n\ndefs
r (\n    (o7[t] = i3[t]) &&\n    (o3[t] = o0[t]' & i1[t]') &&\n    (o4[t] = o0[t]' & i1[t]) &&\n    (o5[t] = o0[t] & i1[t]') &&\n    (o6[t] = o0[t] & i1[t]) &&\n    (o8[t] = o0[t] & o8[t-1]') &&\n    (o9[t] = o0[t] & ((o9[t-1] & o8[t-1]') | (o9[t-1]' & o8[t-1]))) &&\n    (oD[t] = o2[t] | (oD[t-1] & oD[t-1] & o1[t]')) &&\n    (oE[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]') &&\n    (oF[t] = o0[t-1] & (i0[t] | (i1[t]' & o9[t] & o8[t]))) &&\n    (o1[t] = oE[t]) &&\n    (o2[t] = oF[t]) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (oG[t] = oG[t-1] + i3[t]) && (oG[0] = {0}:bv[16]) &&\n    (oA[t] = (o2[t] & oA[t-1]') | (o2[t]' & oA[t-1])) &&\n    (oB[t] = (o2[t] & oA[t-1] & oB[t-1]') | (o2[t] & oA[t-1]' & oB[t-1]) | (o2[t]' & oB[t-1])) &&\n    (oC[t] = (o2[t] & oA[t-1] & oB[t-1] & oC[t-1]') | (o2[t] & (oA[t-1]' | oB[t-1]') & oC[t-1]) | (o2[t]' & oC[t-1]))\n)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/position.out").\no1:sbf = out file("outputs/buy.out").\no2:sbf = out file("outputs/sell.out").\no3:sbf = out file("outputs/fsm_idle_low.out").\no4:sbf = out file("outputs/fsm_idle_high.out").\no5:sbf = out file("outputs/fsm_pos_low.out").\no6:sbf = out file("outputs/fsm_pos_high.out").\no7:bv[16] = out file("outputs/scarcity_track.out").\no8:sbf = out file("outputs/timer_b0.out").\no9:sbf = out file("outputs/timer_b1.out").\noA:sbf = out file("outputs/trade_b0.out").\noB:sbf = out file("outputs/trade_b1.out").\noC:sbf = out file("outputs/trade_b2.out").\noD:sbf = out file("outputs/cooldown.out").\noE:sbf = out file("outputs/smart_entry.out").\noF:sbf = out file("outputs/smart_exit.out").\noG:bv[16] = out file("outputs/cumulative.out").\n\ndefs
r (\n    (o7[t] = i3[t]) &&\n    (o3[t] = o0[t]' & i1[t]') &&\n    (o4[t] = o0[t]' & i1[t]) &&\n    (o5[t] = o0[t] & i1[t]') &&\n    (o6[t] = o0[t] & i1[t]) &&\n    (o8[t] = o0[t] & o8[t-1]') &&\n    (o9[t] = o0[t] & ((o9[t-1] & o8[t-1]') | (o9[t-1]' & o8[t-1]))) &&\n    (oD[t] = o2[t] | (oD[t-1] & oD[t-1] & o1[t]')) &&\n    (oE[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]') &&\n    (oF[t] = o0[t-1] & (i0[t] | (i1[t]' & o9[t] & o8[t]))) &&\n    (o1[t] = oE[t]) &&\n    (o2[t] = oF[t]) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (oG[t] = oG[t-1] + i3[t]) && (oG[0] = {0}:bv[16]) &&\n    (oA[t] = (o2[t] & oA[t-1]') | (o2[t]' & oA[t-1])) &&\n    (oB[t] = (o2[t] & oA[t-1] & oB[t-1]') | (o2[t] & oA[t-1]' & oB[t-1]) | (o2[t]' & oB[t-1])) &&\n    (oC[t] = (o2[t] & oA[t-1] & oB[t-1] & oC[t-1]') | (o2[t] & (oA[t-1]' | oB[t-1]') & oC[t-1]) | (o2[t]' & oC[t-1]))\n)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/position.out").\no1:sbf = out file("outputs/buy.out").\no2:sbf = out file("outputs/sell.out").\no3:sbf = out file("outputs/fsm_idle_low.out").\no4:sbf = out file("outputs/fsm_idle_high.out").\no5:sbf = out file("outputs/fsm_pos_low.out").\no6:sbf = out file("outputs/fsm_pos_high.out").\no7:bv[16] = out file("outputs/scarcity_track.out").\no8:sbf = out file("outputs/timer_b0.out").\no9:sbf = out file("outputs/timer_b1.out").\noA:sbf = out file("outputs/trade_b0.out").\noB:sbf = out file("outputs/trade_b1.out").\noC:sbf = out file("outputs/smart_entry.out").\noD:sbf = out file("outputs/smart_exit.out").\noE:bv[16] = out file("outputs/cumulative.out").\n\ndefs
r (\n    (o7[t] = i3[t]) &&\n    (o3[t] = o0[t]' & i1[t]') &&\n    (o4[t] = o0[t]' & i1[t]) &&\n    (o5[t] = o0[t] & i1[t]') &&\n    (o6[t] = o0[t] & i1[t]) &&\n    (o8[t] = o0[t] & o8[t-1]') &&\n    (o9[t] = o0[t] & ((o9[t-1] & o8[t-1]') | (o9[t-1]' & o8[t-1]))) &&\n    (oC[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]') &&\n    (oD[t] = o0[t-1] & i0[t]) &&\n    (o1[t] = oC[t]) &&\n    (o2[t] = oD[t]) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (oE[t] = oE[t-1] + i3[t]) && (oE[0] = {0}:bv[16]) &&\n    (oA[t] = (o2[t] & oA[t-1]') | (o2[t]' & oA[t-1])) &&\n    (oB[t] = (o2[t] & oA[t-1] & oB[t-1]') | (o2[t] & oA[t-1]' & oB[t-1]) | (o2[t]' & oB[t-1]))\n)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/position.out").\no1:sbf = out file("outputs/buy.out").\no2:sbf = out file("outputs/sell.out").\no3:sbf = out file("outputs/fsm_idle_low.out").\no4:sbf = out file("outputs/fsm_idle_high.out").\no5:sbf = out file("outputs/fsm_pos_low.out").\no6:sbf = out file("outputs/fsm_pos_high.out").\no7:bv[16] = out file("outputs/scarcity_track.out").\no8:sbf = out file("outputs/timer_b0.out").\no9:sbf = out file("outputs/timer_b1.out").\noA:sbf = out file("outputs/trade_b0.out").\noB:sbf = out file("outputs/trade_b1.out").\noC:sbf = out file("outputs/smart_entry.out").\noD:sbf = out file("outputs/smart_exit.out").\noE:bv[16] = out file("outputs/cumulative.out").\n\ndefs
r (\n    (o7[t] = i3[t]) &&\n    (o3[t] = o0[t]' & i1[t]') &&\n    (o4[t] = o0[t]' & i1[t]) &&\n    (o5[t] = o0[t] & i1[t]') &&\n    (o6[t] = o0[t] & i1[t]) &&\n    (o8[t] = o0[t] & o8[t-1]') &&\n    (o9[t] = o0[t] & ((o9[t-1] & o8[t-1]') | (o9[t-1]' & o8[t-1]))) &&\n    (oC[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]') &&\n    (oD[t] = o0[t-1] & i0[t]) &&\n    (o1[t] = oC[t]) &&\n    (o2[t] = oD[t]) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (oE[t] = oE[t-1] + i3[t]) && (oE[0] = {0}:bv[16]) &&\n    (oA[t] = (o2[t] & oA[t-1]') | (o2[t]' & oA[t-1])) &&\n    (oB[t] = (o2[t] & oA[t-1] & oB[t-1]') | (o2[t] & oA[t-1]' & oB[t-1]) | (o2[t]' & oB[t-1]))\n)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/position.out").\no1:sbf = out file("outputs/buy.out").\no2:sbf = out file("outputs/sell.out").\no3:sbf = out file("outputs/fsm_idle_low.out").\no4:sbf = out file("outputs/fsm_idle_high.out").\no5:sbf = out file("outputs/fsm_pos_low.out").\no6:sbf = out file("outputs/fsm_pos_high.out").\no7:bv[16] = out file("outputs/scarcity_track.out").\no8:sbf = out file("outputs/timer_b0.out").\no9:sbf = out file("outputs/timer_b1.out").\noA:sbf = out file("outputs/trade_b0.out").\noB:sbf = out file("outputs/trade_b1.out").\noC:sbf = out file("outputs/smart_entry.out").\noD:sbf = out file("outputs/smart_exit.out").\noE:bv[16] = out file("outputs/cumulative.out").\n\ndefs
r (\n    (o7[t] = i3[t]) &&\n    (o3[t] = o0[t]' & i1[t]') &&\n    (o4[t] = o0[t]' & i1[t]) &&\n    (o5[t] = o0[t] & i1[t]') &&\n    (o6[t] = o0[t] & i1[t]) &&\n    (o8[t] = o0[t] & o8[t-1]') &&\n    (o9[t] = o0[t] & ((o9[t-1] & o8[t-1]') | (o9[t-1]' & o8[t-1]))) &&\n    (oC[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]') &&\n    (oD[t] = o0[t-1] & i0[t]) &&\n    (o1[t] = oC[t]) &&\n    (o2[t] = oD[t]) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (oE[t] = oE[t-1] + i3[t]) && (oE[0] = {0}:bv[16]) &&\n    (oA[t] = (o2[t] & oA[t-1]') | (o2[t]' & oA[t-1])) &&\n    (oB[t] = (o2[t] & oA[t-1] & oB[t-1]') | (o2[t] & oA[t-1]' & oB[t-1]) | (o2[t]' & oB[t-1]))\n)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/position.out").\no1:sbf = out file("outputs/buy.out").\no2:sbf = out file("outputs/sell.out").\no3:sbf = out file("outputs/fsm_idle_low.out").\no4:sbf = out file("outputs/fsm_idle_high.out").\no5:sbf = out file("outputs/fsm_pos_low.out").\no6:sbf = out file("outputs/fsm_pos_high.out").\no7:bv[16] = out file("outputs/scarcity_track.out").\no8:sbf = out file("outputs/timer_b0.out").\no9:sbf = out file("outputs/timer_b1.out").\noA:sbf = out file("outputs/trade_b0.out").\noB:sbf = out file("outputs/trade_b1.out").\noC:sbf = out file("outputs/smart_entry.out").\noD:sbf = out file("outputs/smart_exit.out").\noE:bv[16] = out file("outputs/cumulative.out").\n\ndefs
r (\n    (o7[t] = i3[t]) &&\n    (o3[t] = o0[t]' & i1[t]') &&\n    (o4[t] = o0[t]' & i1[t]) &&\n    (o5[t] = o0[t] & i1[t]') &&\n    (o6[t] = o0[t] & i1[t]) &&\n    (o8[t] = o0[t] & o8[t-1]') &&\n    (o9[t] = o0[t] & ((o9[t-1] & o8[t-1]') | (o9[t-1]' & o8[t-1]))) &&\n    (oC[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]') &&\n    (oD[t] = o0[t-1] & i0[t]) &&\n    (o1[t] = oC[t]) &&\n    (o2[t] = oD[t]) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (oE[t] = oE[t-1] + i3[t]) && (oE[0] = {0}:bv[16]) &&\n    (oA[t] = (o2[t] & oA[t-1]') | (o2[t]' & oA[t-1])) &&\n    (oB[t] = (o2[t] & oA[t-1] & oB[t-1]') | (o2[t] & oA[t-1]' & oB[t-1]) | (o2[t]' & oB[t-1]))\n)
n
q
i0:sbf = in file("inputs/price_signal.in").\ni1:sbf = in file("inputs/eetf_high.in").\ni2:sbf = in file("inputs/volume_ok.in").\ni3:bv[16] = in file("inputs/scarcity.in").\n\no0:sbf = out file("outputs/in_position.out").\no1:sbf = out file("outputs/buy_signal.out").\no2:sbf = out file("outputs/sell_signal.out").\no3:bv[16] = out file("outputs/scarcity_echo.out").\no4:sbf = out file("outputs/state_idle_low.out").\no5:sbf = out file("outputs/state_idle_high.out").\no6:sbf = out file("outputs/state_pos_low.out").\no7:sbf = out file("outputs/state_pos_high.out").\no8:bv[16] = out file("outputs/profit.out").\no9:sbf = out file("outputs/trade_count_b0.out").\n\ndefs
r (\n    (o3[t] = i3[t]) &&\n    (o4[t] = o0[t]' & i1[t]') &&\n    (o5[t] = o0[t]' & i1[t]) &&\n    (o6[t] = o0[t] & i1[t]') &&\n    (o7[t] = o0[t] & i1[t]) &&\n    (o1[t] = o0[t-1]' & i1[t] & i2[t] & i0[t]') &&\n    (o2[t] = o0[t-1] & i0[t]) &&\n    (o0[t] = o1[t] | (o0[t-1] & o2[t]')) &&\n    (o8[t] = o8[t-1] + i3[t]) && (o8[0] = {0}:bv[16]) &&\n    (o9[t] = (o2[t] & o9[t-1]') | (o2[t]' & o9[t-1]))\n)
n
q
